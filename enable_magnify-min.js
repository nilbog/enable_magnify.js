$.fn.enable_magnify=function(i,e){var t,o,n=this,f=this.find("img"),e=e||"magnify";n.after('<div id="'+e+'" style="position:relative;overflow:hidden;"><img src="'+i+'" style="position:relative;"/></div>'),t=$("#"+e),o=$("#"+e+" img"),t.hide(),f.on("mousemove",function(i){t.show();var e=i.pageX-f.offset().left,n=i.pageY-f.offset().top,h=o.width()/f.width(),s=o.height()/f.height();o.css({left:-1*(h*e)+t.height()/2,top:-1*(s*n)+t.width()/2})}).on("mouseout",function(){t.hide()})};